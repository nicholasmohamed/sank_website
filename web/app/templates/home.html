{% extends "base.html" %}

{% block content %}
<br><br>
<script type="text/javascript" src="{{url_for('static', filename='scripts/shop_carousel.js')}}"></script>
<!-- Slideshow container -->
<div class="slideshow-container">
    <!-- Images for the carousel -->
    {% for slide in slides %}
      <div class="homeSlides fade">
          <!-- If shop, start the shop carousel -->
          {% if slide.type == 1 %}
            <!-- Background text and shop buttons -->
            <div class = backgroundText>
                <h1>New Arrivals</h1>
            </div>
            <input id="addButton" class="cartButton" type="image" onclick="quickAddItem()"
                   src="{{url_for('static', filename='assets/math_plus.svg')}}"/>
            <input id="removeButton" class="cartButton" type="image" onclick="quickRemoveItem()"
                   src="{{url_for('static', filename='assets/math_minus.svg')}}"/>
            <!-- Shop carousel items -->
            {% for item in new_arrivals %}
                <div class="merch">
                    <img src="{{url_for('static', filename=item.imageLink)}}" class="merchImage">
                    <h2 class="itemDescriptor" id="itemId">{{item.id}}</h2>
                    <h2 class="itemDescriptor" id="itemName">{{item.name}}</h2>
                    <h2 class="itemDescriptor" id="itemPrice">{{item.price}}</h2>
                </div>
            {% endfor %}
            <button id="shopButton">Shop</button>
            <script>showMerch(0);</script>
          <!-- otherwise regular carousel-->
          {% else %}
            <a href="{{slide.link}}">
                <img src="{{url_for('static', filename=slide.img)}}" class="carouselImage">
            </a>
          {% endif %}
      </div>
    {% endfor %}
</div>

<!-- The dots/circles -->
<div style="text-align:center">
    {% for slide in slides %}
      <span class="dot" onclick="dotClick({{loop.index - 1}});"></span>
    {% endfor %}
</div>

<script>showSlides(1);</script>
<script>
    function dotClick(index){
        currentSlide(index);
        var index = getActiveImageIndex("merch");
        index++;
        resetTimeout(4000, index);
    }
</script>
<br>
<!-- Old homepage text
<div style="text-align:center">
    <h3 class="homeDescription">SankChewAir-E is an online community center that promotes hip-hop culture through dance classes, gaming events
        and workshops held through the platform of discord.</h3>

    <h1 class="videoHeading">LATEST YOUTUBE VIDEO</h1>
    <iframe width="640" height="360" src="https://www.youtube.com/embed/zGKd_LJf4Gw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
-->
{% endblock %}

